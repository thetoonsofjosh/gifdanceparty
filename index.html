
<!DOCTYPE html>  <!-- HTML5 -->
<html lang="en">
  
<head>
  <meta charset="utf-8">
  <title>GIF DANCE PARTY</title>
  <!--
  <link rel="stylesheet" type="text/css" href="jquery-ui-1.10.2.custom.min.css">
  <script type="text/javascript" src="jquery.min.js"></script> 
  <script type="text/javascript" src="jquery-ui-1.10.2.custom.min.js"></script>
  -->
  <link rel="stylesheet" type="text/css" href="style.css"> <!-- my awesome stylesheet -->
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/vader/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <script src="js/jquery.backstretch.min.js"></script> 
  <script src="js/buzz.js"></script> 
  <link href='http://fonts.googleapis.com/css?family=Monofett' rel='stylesheet' type='text/css'>
  <script type="text/javascript" src="js/jquery.simplemodal.1.4.4.min.js"></script>




</head>
  
<body>
  <div id="dancefloor">




    <!-- MENU TOP -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <div id="menu_top">
    <center>

      <!-- switch dancefloor --> 
      <div class="menu_item" style="color:#fcff00;">
        <span id="dancefloorswitch">DANCEFLOOR</span>
      </div>

      <!-- add to party --> 
      <div class="menu_item" style="margin-left:25px;color:#83d8ff;">
        <select class="menu_sel" id="select_dancer" style="background-color:#83d8ff;">

          <option value="scumbag_brian">Scumbag Brian</option>
          <option value="humpery">Humpery</option>
          <option value="smooch">Smooch</option>
          <option value="the_wizard">The Wizard</option>
          <option value="banana">Banana</option>
          <option value="pumpgirl">Pump Girl</option>
          <option value="carlton">Carlton</option>
          <option value="spongey_bob">Spongey Bob</option>
          <option value="bear">Bear</option>
          <option value="roger">Roger</option>
          <option value="noshorts">No Shorts</option>
          <option value="fred">Fred</option>
          <option value="charlie">Charlie</option>
          <option value="mid_aged">Mid Aged Maranda</option>
        </select>
      <span id="addtoparty" style="">ADD TO PARTY</span>
      </div>

      <!-- play it --> 
      <div class="menu_item" style="margin-left:25px;color:#ffd283;">
        <select class="menu_sel" id="select_song" style="background-color:#ffd283;">
          <option value="" SELECTED>NONE</option>
          <option value="twist">Twist</option>
          <option value="grounded">Grounded</option>
          <option value="walkmen">Walkmen</option>
          <option value="wegotyou">We Got You</option>
          <option value="bazz">Bazz</option>
          <option value="fatboy">Fatboy</option>
          <option value="nahnahnah">Nah Nah Nah</option>
        </select>
      <span id="playit" style="">PLAY IT</span>
      </div>

      <!-- submit -->
      <div  class="menu_item" style="margin-left:25px;color:#00ffba;" >
        <span id="submit">SUBMIT</span>
      </div>

       <!-- about -->
      <div  class="menu_item" style="margin-left:25px;color:#f368ff;" >
        <span id="about">ABOUT</span>
      </div>     

    </center>
    </div>


    <!-- DANCERS -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <div id="dancers">
    </div>



    <div class="content_center">


      <!-- MODAL LOADING -->
      <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
      <div id="modal_loading">
        LOADING GIF DANCE PARTY &nbsp; <img src="littleraver.gif" width="39" height="39">
      </div>


      <!-- MODAL ABOUT -->
      <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
      <div id="modal_about">
        <div id="close_modal_about">X</div>
        CREATED MARCH 2013
        <div style="height:10px">&nbsp;</div>
        BY <a href="http://fuzzywobble.com" target="_blank">FUZZY WOBBLE</a> 
        <div style="height:10px">&nbsp;</div>
        FOR THE 'HUMOR & CODE' CLASS AT PARSONS SCHOOL OF DESIGN & TECHNOLGOY
      </div>


      <!-- MODAL SUBMIT -->
      <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
      <div id="modal_submit">
        <div id="close_modal_submit">X</div>
        ANYONE CAN SUBMIT A DANCE GIF AND JOIN THE GIF DANCE PARTY
        <div style="height:10px">&nbsp;</div>
        KEEP IN MIND THAT IT IS DIFFICULT TO REMOVE THE BACKGROUND FROM A 
        GIF ANIMATION
        <div style="height:10px">&nbsp;</div>
        SUBMIT URL <a href="upload.php" target="_blank" title="coming soon...">HERE</a>
      </div>

    </div>

    <div id="likethis"></div>

    <div id="fuzzy">By <a href='http://fuzzywobble.com' target='_blank'>Fuzzy Wobble</a></div>

  </div>
</body>







  <script type="text/javascript"> 

  //----------------------------
  //crazy live draggable/resizable function, only works with jquery 1.8.3? live depreciated, relaced with .on
  (function ($) {
     $.fn.liveDraggable = function (opts) {
        this.live("mouseover", function() {
           if (!$(this).data("init")) {
              $(this).data("init", true).draggable(opts);
           }
        });
        return $();
     };
  }(jQuery));

  //----------------------------
  (function ($) {
     $.fn.liveResizable = function (opts) {
        this.live("mouseover", function() {
           if (!$(this).data("init")) {
              $(this).data("init", true).resizable(opts);
           }
        });
        return $();
     };
  }(jQuery));

  //----------------------------
  //disable selection of text
  (function($){
    $.fn.disableSelection = function() {
        return this
                 .attr('unselectable', 'on')
                 .css('user-select', 'none')
                 .on('selectstart', false);
    };
  })(jQuery);




  var bgNum = 2;
  var bgMax = 5;
  var zIndex = 500;
  var zIndex_low = 499;
  var onDancer = 0;




  //++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //WINDOW LOAD
  $(window).load(function() { //all images have loaded! //everything had loaded, called THIRD


    $("#modal_loading").hide();
    $("#menu_top").show();

    $(".dancer").liveResizable({
      //handles: {s: document.getElementById("handle")},
      resize: function(event, ui) {
        var wd = ui.size.width;
        $(this).closest('.dance_outter').css('width',wd);
      }
    });
    wd = $(".dance_outter img").css('width');
    $(".dance_outter").css('width',wd);

    $(".dance_outter").liveDraggable({scroll: false}); 

  });




  //++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //GENERAL JQUERY
  $(function(){ //general jquery, called FIRST


      $("#modal_loading").show();
      $("#menu_top").hide();

      $.fn.preload = function() {
          this.each(function(){
              $('<img/>')[0].src = this;
          });
      }
      $(['dancefloors/dancefloor_05.jpg','dancefloors/dancefloor_04.jpg','dancefloors/dancefloor_03.jpg','dancefloors/dancefloor_02.jpg','dancers/scumbag_brian.gif','dancers/humpery.gif','dancers/smooch.gif','dancers/the_wizard.gif','dancers/banana.gif','dancers/pumpgirl.gif','dancers/carlton.gif','dancers/spongey_bob.gif','dancers/bear.gif','dancers/mid_aged.gif','dancers/roger.gif','dancers/noshorts.gif','dancers/fred.gif','dancers/charlie.gif','dancefloors/dancefloor_01.jpg']).preload();


    });




    $(function(){

    //sound stuff
    buzz.defaults.loop = true;
    buzz.defaults.formats = ['ogg', 'mp3'];
    buzz.defaults.preload = 'auto';
    buzz.defaults.autoplay = false;
    var fatboy = new buzz.sound("music/fatboy");
    fatboy.set("id", "fatboy");
    var walkmen = new buzz.sound("music/walkmen");
    walkmen.set("id", "walkmen");
    var nahnahnah = new buzz.sound("music/nahnahnah");
    nahnahnah.set("id", "nahnahnah");
    var grounded = new buzz.sound("music/grounded");
    grounded.set("id", "grounded");
    var twist = new buzz.sound("music/twist");
    twist.set("id", "twist");
    var wegotyou = new buzz.sound("music/wegotyou");
    wegotyou.set("id", "wegotyou");
    var bazz = new buzz.sound("music/bazz");
    bazz.set("id", "bazz");
    var myGroup = new buzz.group([ 
        fatboy, 
        walkmen, 
        nahnahnah,
        grounded,
        twist,
        wegotyou,
        bazz
    ]); 

    /* PLAY IT */
    $("#playit").click(function(event){
      var song_name = $("#select_song").val();
      myGroup.stop(); // stop all
      for(var i in buzz.sounds){
        var soundID = buzz.sounds[i].get("id");
        if(soundID == song_name){
          buzz.sounds[i].play();
        }
      }
    });

    /* SWITCH DANCEFLOOR */
    $("#dancefloorswitch").click(function(event){
      bgNum++;
      if(bgNum>bgMax){
        bgNum=1;
      }
      $("body").backstretch("dancefloors/dancefloor_0"+bgNum+".jpg");
    });
    $("body").backstretch("dancefloors/dancefloor_02.jpg");

    /* MOUSEOVER DANCER */
    $(document).on('mouseenter','.dance_outter',function(){ 
      if(onDancer==0){
        console.log("entry");
        $(this).css("background-color","rgba(20,20,20,0.25)");
        $(this).css({"border-width":"1px","border-style":"dashed","border-color":"#ccc"});
        $(this).children("div:not(:first-child)").show();
        onDancer=1;
      }else{
        console.log("cant enter");
      }
    });
    $(document).on('mouseleave','.dance_outter',function(){ 
      $(this).css("background-color","rgba(20,20,20,0.0)");
      $(this).css("border","none");
      $(this).children("div:not(:first-child)").hide();
      onDancer=0;
    });

    /* CLOSE DANCER */
    $(document).on('click','.close_dancer',function(){
      $(this).closest(".dance_outter").remove();
    });

    /* BRING TO FRONT / BACK */
     $(document).on('click','.bfront',function(){
      $(this).closest(".dance_outter").css("z-index",zIndex);
      zIndex++;
    });   
    $(document).on('click','.bback',function(){
      $(this).closest(".dance_outter").css("z-index",zIndex_low);
      zIndex_low--;
    });

    /* ADD DANCER */
    $("#addtoparty").click(function(event){
      var dancer_name = $("#select_dancer").val();
      $("#dancers").append("<div class='dance_outter' style='z-index:"+zIndex+";'><img class='dancer' title='brian' src='dancers/"+dancer_name+".gif' /><div class='bfront'>FRONT</div><div class='bback'>BACK</div><div class='resize_help'>RESIZE</div><div class='close_dancer'>X</div>");
      zIndex++;
    });

    /* ABOUT */
    $("#modal_about").hide();
    $("#modal_submit").hide();
    $("#about").click(function(){
      $("#modal_about").show();
      $("#modal_submit").hide();
    });
    $("#submit").click(function(){
      $("#modal_submit").show();
      $("#modal_about").hide();
    });
    $("#close_modal_about").click(function(){
      $("#modal_about").hide();
    });
    $("#close_modal_submit").click(function(){
      $("#modal_submit").hide();
    });

    $("#about").disableSelection();
    $("#submit").disableSelection();
    $("#playit").disableSelection();
    $("#addtoparty").disableSelection();
    $("#dancefloorswitch").disableSelection();
    $("#menu_top").disableSelection();
    $("#modal_submit").disableSelection();
    $("#modal_about").disableSelection();


    $("#likethis").on('click', function(){
         window.open("http://www.facebook.com/GifDanceParty");    
    });

  });
    
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-42722838-1', 'gifdanceparty.com');
    ga('send', 'pageview');
  </script>
  




</html>
